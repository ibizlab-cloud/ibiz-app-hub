!function(){function t(e,n){return t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},t(e,n)}function e(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,o=r(t);if(e){var a=r(this).constructor;i=Reflect.construct(o,arguments,a)}else i=o.apply(this,arguments);return function(t,e){if(e&&("object"===d(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return n(t)}(this,i)}}function n(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function r(t){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},r(t)}function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){m(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,u=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==e);s=!0);}catch(t){u=!0,i=t}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return c}}(t,e)||s(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t){return function(t){if(Array.isArray(t))return u(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||s(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){if(t){if("string"==typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function l(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */l=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function f(t,e,n,r){var o=e&&e.prototype instanceof g?e:g,a=Object.create(o.prototype),c=new L(r||[]);return i(a,"_invoke",{value:T(t,n,c)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=f;var p="suspendedStart",v="suspendedYield",_="executing",m="completed",y={};function g(){}function b(){}function w(){}var k={};u(k,a,(function(){return this}));var x=Object.getPrototypeOf,E=x&&x(x(I([])));E&&E!==n&&r.call(E,a)&&(k=E);var C=w.prototype=g.prototype=Object.create(k);function N(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function n(i,o,a,c){var s=h(t[i],t,o);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"==d(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,c)}),(function(t){n("throw",t,a,c)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,c)}))}c(s.arg)}var o;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return o=o?o.then(i,i):i()}})}function T(e,n,r){var i=p;return function(o,a){if(i===_)throw new Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var c=r.delegate;if(c){var s=A(c,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===p)throw i=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=_;var u=h(e,n,r);if("normal"===u.type){if(i=r.done?m:v,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(i=m,r.method="throw",r.arg=u.arg)}}}function A(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,A(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=h(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function D(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function I(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(d(e)+" is not iterable")}return b.prototype=w,i(C,"constructor",{value:w,configurable:!0}),i(w,"constructor",{value:b,configurable:!0}),b.displayName=u(w,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,u(t,s,"GeneratorFunction")),t.prototype=Object.create(C),t},e.awrap=function(t){return{__await:t}},N(S.prototype),u(S.prototype,c,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new S(f(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},N(C),u(C,s,"Generator"),u(C,a,(function(){return this})),u(C,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=I,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(D),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return c.type="throw",c.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],c=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),D(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;D(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:I(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}function f(t,e,n,r,i,o,a){try{var c=t[o](a),s=c.value}catch(u){return void n(u)}c.done?e(s):Promise.resolve(s).then(r,i)}function h(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){f(o,r,i,a,c,"next",t)}function c(t){f(o,r,i,a,c,"throw",t)}a(void 0)}))}}function d(t){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(t)}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,y(r.key),r)}}function _(t,e,n){return e&&v(t.prototype,e),n&&v(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function m(t,e,n){return(e=y(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y(t){var e=function(t,e){if("object"!==d(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==d(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===d(e)?e:String(e)}System.register(["interactjs","cherry-markdown"],(function(r,i){"use strict";var s,u;return{setters:[function(t){s=t.default},function(t){u=t.default}],execute:function(){var i,f,v,y,g,b,w,k,x={},E=[],C=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,N=Array.isArray;function S(t,e){for(var n in e)t[n]=e[n];return t}function T(t){var e=t.parentNode;e&&e.removeChild(t)}function A(t,e,n){var r,o,a,c={};for(a in e)"key"==a?r=e[a]:"ref"==a?o=e[a]:c[a]=e[a];if(arguments.length>2&&(c.children=arguments.length>3?i.call(arguments,2):n),"function"==typeof t&&null!=t.defaultProps)for(a in t.defaultProps)void 0===c[a]&&(c[a]=t.defaultProps[a]);return O(t,c,r,o,null)}function O(t,e,n,r,i){var o={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==i?++v:i};return null==i&&null!=f.vnode&&f.vnode(o),o}function D(t){return t.children}function L(t,e){this.props=t,this.context=e}function I(t,e){if(null==e)return t.__?I(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if(null!=(n=t.__k[e])&&null!=n.__e)return n.__d||n.__e;return"function"==typeof t.type?I(t):null}function z(t){var e,n;if(null!=(t=t.__)&&null!=t.__c){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if(null!=(n=t.__k[e])&&null!=n.__e){t.__e=t.__c.base=n.__e;break}return z(t)}}function M(t){(!t.__d&&(t.__d=!0)&&g.push(t)&&!P.__r++||b!==f.debounceRendering)&&((b=f.debounceRendering)||w)(P)}function P(){var t,e,n,r,i,o,a,c,s;for(g.sort(k);t=g.shift();)t.__d&&(e=g.length,r=void 0,i=void 0,o=void 0,c=(a=(n=t).__v).__e,(s=n.__P)&&(r=[],i=[],(o=S({},a)).__v=a.__v+1,$(s,a,o,n.__n,void 0!==s.ownerSVGElement,null!=a.__h?[c]:null,r,null==c?I(a):c,a.__h,i),q(r,a,i),a.__e!=c&&z(a)),g.length>e&&g.sort(k));P.__r=0}function H(t,e,n,r,i,o,a,c,s,u,l){var f,h,d,p,v,_,m,y,g,b=0,w=r&&r.__k||E,k=w.length,C=k,S=e.length;for(n.__k=[],f=0;f<S;f++)null!=(p=n.__k[f]=null==(p=e[f])||"boolean"==typeof p||"function"==typeof p?null:"string"==typeof p||"number"==typeof p||"bigint"==typeof p?O(null,p,null,null,p):N(p)?O(D,{children:p},null,null,null):p.__b>0?O(p.type,p.props,p.key,p.ref?p.ref:null,p.__v):p)?(p.__=n,p.__b=n.__b+1,-1===(y=F(p,w,m=f+b,C))?d=x:(d=w[y]||x,w[y]=void 0,C--),$(t,p,d,i,o,a,c,s,u,l),v=p.__e,(h=p.ref)&&d.ref!=h&&(d.ref&&X(d.ref,null,p),l.push(h,p.__c||v,p)),null!=v&&(null==_&&(_=v),(g=d===x||null===d.__v)?-1==y&&b--:y!==m&&(y===m+1?b++:y>m?C>S-m?b+=y-m:b--:b=y<m&&y==m-1?y-m:0),m=f+b,"function"!=typeof p.type||y===m&&d.__k!==p.__k?"function"==typeof p.type||y===m&&!g?void 0!==p.__d?(s=p.__d,p.__d=void 0):s=v.nextSibling:s=R(t,v,s):s=j(p,s,t),"function"==typeof n.type&&(n.__d=s))):(d=w[f])&&null==d.key&&d.__e&&(d.__e==s&&(d.__=r,s=I(d)),G(d,d,!1),w[f]=null);for(n.__e=_,f=k;f--;)null!=w[f]&&("function"==typeof n.type&&null!=w[f].__e&&w[f].__e==n.__d&&(n.__d=w[f].__e.nextSibling),G(w[f],w[f]))}function j(t,e,n){for(var r,i=t.__k,o=0;i&&o<i.length;o++)(r=i[o])&&(r.__=t,e="function"==typeof r.type?j(r,e,n):R(n,r.__e,e));return e}function B(t,e){return e=e||[],null==t||"boolean"==typeof t||(N(t)?t.some((function(t){B(t,e)})):e.push(t)),e}function R(t,e,n){return null==n||n.parentNode!==t?t.insertBefore(e,null):e==n&&null!=e.parentNode||t.insertBefore(e,n),e.nextSibling}function F(t,e,n,r){var i=t.key,o=t.type,a=n-1,c=n+1,s=e[n];if(null===s||s&&i==s.key&&o===s.type)return n;if(r>(null!=s?1:0))for(;a>=0||c<e.length;){if(a>=0){if((s=e[a])&&i==s.key&&o===s.type)return a;a--}if(c<e.length){if((s=e[c])&&i==s.key&&o===s.type)return c;c++}}return-1}function U(t,e,n){"-"===e[0]?t.setProperty(e,null==n?"":n):t[e]=null==n?"":"number"!=typeof n||C.test(e)?n:n+"px"}function V(t,e,n,r,i){var o;t:if("style"===e)if("string"==typeof n)t.style.cssText=n;else{if("string"==typeof r&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||U(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||U(t.style,e,n[e])}else if("o"===e[0]&&"n"===e[1])o=e!==(e=e.replace(/(PointerCapture)$|Capture$/,"$1")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+o]=n,n?r?n.u=r.u:(n.u=Date.now(),t.addEventListener(e,o?Y:W,o)):t.removeEventListener(e,o?Y:W,o);else if("dangerouslySetInnerHTML"!==e){if(i)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!==e&&"height"!==e&&"href"!==e&&"list"!==e&&"form"!==e&&"tabIndex"!==e&&"download"!==e&&"rowSpan"!==e&&"colSpan"!==e&&"role"!==e&&e in t)try{t[e]=null==n?"":n;break t}catch(t){}"function"==typeof n||(null==n||!1===n&&"-"!==e[4]?t.removeAttribute(e):t.setAttribute(e,n))}}function W(t){var e=this.l[t.type+!1];if(t.t){if(t.t<=e.u)return}else t.t=Date.now();return e(f.event?f.event(t):t)}function Y(t){return this.l[t.type+!0](f.event?f.event(t):t)}function $(t,e,n,r,o,a,c,s,u,l){var h,d,p,v,_,m,y,g,b,w,k,E,C,A,O,z=e.type;if(void 0!==e.constructor)return null;null!=n.__h&&(u=n.__h,s=e.__e=n.__e,e.__h=null,a=[s]),(h=f.__b)&&h(e);t:if("function"==typeof z)try{if(g=e.props,b=(h=z.contextType)&&r[h.__c],w=h?b?b.props.value:h.__:r,n.__c?y=(d=e.__c=n.__c).__=d.__E:("prototype"in z&&z.prototype.render?e.__c=d=new z(g,w):(e.__c=d=new L(g,w),d.constructor=z,d.render=Z),b&&b.sub(d),d.props=g,d.state||(d.state={}),d.context=w,d.__n=r,p=d.__d=!0,d.__h=[],d._sb=[]),null==d.__s&&(d.__s=d.state),null!=z.getDerivedStateFromProps&&(d.__s==d.state&&(d.__s=S({},d.__s)),S(d.__s,z.getDerivedStateFromProps(g,d.__s))),v=d.props,_=d.state,d.__v=e,p)null==z.getDerivedStateFromProps&&null!=d.componentWillMount&&d.componentWillMount(),null!=d.componentDidMount&&d.__h.push(d.componentDidMount);else{if(null==z.getDerivedStateFromProps&&g!==v&&null!=d.componentWillReceiveProps&&d.componentWillReceiveProps(g,w),!d.__e&&(null!=d.shouldComponentUpdate&&!1===d.shouldComponentUpdate(g,d.__s,w)||e.__v===n.__v)){for(e.__v!==n.__v&&(d.props=g,d.state=d.__s,d.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.forEach((function(t){t&&(t.__=e)})),k=0;k<d._sb.length;k++)d.__h.push(d._sb[k]);d._sb=[],d.__h.length&&c.push(d);break t}null!=d.componentWillUpdate&&d.componentWillUpdate(g,d.__s,w),null!=d.componentDidUpdate&&d.__h.push((function(){d.componentDidUpdate(v,_,m)}))}if(d.context=w,d.props=g,d.__P=t,d.__e=!1,E=f.__r,C=0,"prototype"in z&&z.prototype.render){for(d.state=d.__s,d.__d=!1,E&&E(e),h=d.render(d.props,d.state,d.context),A=0;A<d._sb.length;A++)d.__h.push(d._sb[A]);d._sb=[]}else do{d.__d=!1,E&&E(e),h=d.render(d.props,d.state,d.context),d.state=d.__s}while(d.__d&&++C<25);d.state=d.__s,null!=d.getChildContext&&(r=S(S({},r),d.getChildContext())),p||null==d.getSnapshotBeforeUpdate||(m=d.getSnapshotBeforeUpdate(v,_)),H(t,N(O=null!=h&&h.type===D&&null==h.key?h.props.children:h)?O:[O],e,n,r,o,a,c,s,u,l),d.base=e.__e,e.__h=null,d.__h.length&&c.push(d),y&&(d.__E=d.__=null)}catch(t){e.__v=null,(u||null!=a)&&(e.__e=s,e.__h=!!u,a[a.indexOf(s)]=null),f.__e(t,e,n)}else null==a&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=function(t,e,n,r,o,a,c,s,u){var l,f,h,d=n.props,p=e.props,v=e.type,_=0;if("svg"===v&&(o=!0),null!=a)for(;_<a.length;_++)if((l=a[_])&&"setAttribute"in l==!!v&&(v?l.localName===v:3===l.nodeType)){t=l,a[_]=null;break}if(null==t){if(null===v)return document.createTextNode(p);t=o?document.createElementNS("http://www.w3.org/2000/svg",v):document.createElement(v,p.is&&p),a=null,s=!1}if(null===v)d===p||s&&t.data===p||(t.data=p);else{if(a=a&&i.call(t.childNodes),f=(d=n.props||x).dangerouslySetInnerHTML,h=p.dangerouslySetInnerHTML,!s){if(null!=a)for(d={},_=0;_<t.attributes.length;_++)d[t.attributes[_].name]=t.attributes[_].value;(h||f)&&(h&&(f&&h.__html==f.__html||h.__html===t.innerHTML)||(t.innerHTML=h&&h.__html||""))}if(function(t,e,n,r,i){var o;for(o in n)"children"===o||"key"===o||o in e||V(t,o,null,n[o],r);for(o in e)i&&"function"!=typeof e[o]||"children"===o||"key"===o||"value"===o||"checked"===o||n[o]===e[o]||V(t,o,e[o],n[o],r)}(t,p,d,o,s),h)e.__k=[];else if(H(t,N(_=e.props.children)?_:[_],e,n,r,o&&"foreignObject"!==v,a,c,a?a[0]:n.__k&&I(n,0),s,u),null!=a)for(_=a.length;_--;)null!=a[_]&&T(a[_]);s||("value"in p&&void 0!==(_=p.value)&&(_!==t.value||"progress"===v&&!_||"option"===v&&_!==d.value)&&V(t,"value",_,d.value,!1),"checked"in p&&void 0!==(_=p.checked)&&_!==t.checked&&V(t,"checked",_,d.checked,!1))}return t}(n.__e,e,n,r,o,a,c,u,l);(h=f.diffed)&&h(e)}function q(t,e,n){for(var r=0;r<n.length;r++)X(n[r],n[++r],n[++r]);f.__c&&f.__c(e,t),t.some((function(e){try{t=e.__h,e.__h=[],t.some((function(t){t.call(e)}))}catch(t){f.__e(t,e.__v)}}))}function X(t,e,n){try{"function"==typeof t?t(e):t.current=e}catch(t){f.__e(t,n)}}function G(t,e,n){var r,i;if(f.unmount&&f.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||X(r,null,e)),null!=(r=t.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(t){f.__e(t,e)}r.base=r.__P=null,t.__c=void 0}if(r=t.__k)for(i=0;i<r.length;i++)r[i]&&G(r[i],e,n||"function"!=typeof t.type);n||null==t.__e||T(t.__e),t.__=t.__e=t.__d=void 0}function Z(t,e,n){return this.constructor(t,n)}function J(t,e,n){var r,o,a,c;f.__&&f.__(t,e),o=(r="function"==typeof n)?null:n&&n.__k||e.__k,a=[],c=[],$(e,t=(!r&&n||e).__k=A(D,null,[t]),o||x,x,void 0!==e.ownerSVGElement,!r&&n?[n]:o?null:e.firstChild?i.call(e.childNodes):null,a,!r&&n?n:o?o.__e:e.firstChild,r,c),q(a,t,c)}i=E.slice,f={__e:function(t,e,n,r){for(var i,o,a;e=e.__;)if((i=e.__c)&&!i.__)try{if((o=i.constructor)&&null!=o.getDerivedStateFromError&&(i.setState(o.getDerivedStateFromError(t)),a=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(t,r||{}),a=i.__d),a)return i.__E=i}catch(e){t=e}throw t}},v=0,y=function(t){return null!=t&&void 0===t.constructor},L.prototype.setState=function(t,e){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=S({},this.state),"function"==typeof t&&(t=t(S({},n),this.props)),t&&S(n,t),null!=t&&this.__v&&(e&&this._sb.push(e),M(this))},L.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),M(this))},L.prototype.render=D,g=[],w="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,k=function(t,e){return t.__v.__b-e.__v.__b},P.__r=0;function K(t,e,n,r,i){var o="".concat(t,"-").concat(e);return n&&(o+="-".concat(n)),r&&(o+="__".concat(r)),i&&(o+="--".concat(i)),o}var Q=function(){function t(e,n){p(this,t),m(this,"namespace",void 0),this.block=e,this.namespace=n||"ibiz"}return _(t,[{key:"b",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return K(this.namespace,this.block,t,"","")}},{key:"e",value:function(t){return t?K(this.namespace,this.block,"",t,""):""}},{key:"m",value:function(t){return t?K(this.namespace,this.block,"","",t):""}},{key:"be",value:function(t,e){return t&&e?K(this.namespace,this.block,t,e,""):""}},{key:"em",value:function(t,e){return t&&e?K(this.namespace,this.block,"",t,e):""}},{key:"bm",value:function(t,e){return t&&e?K(this.namespace,this.block,t,"",e):""}},{key:"bem",value:function(t,e,n){return t&&e&&n?K(this.namespace,this.block,t,e,n):""}},{key:"is",value:function(t,e){return t&&e?"".concat("is-").concat(t):""}},{key:"cssVar",value:function(t){var e={};for(var n in t)t[n]&&(e[this.cssVarName(n)]=t[n]);return e}},{key:"cssVarBlock",value:function(t){var e={};for(var n in t)t[n]&&(e[this.cssVarBlockName(n)]=t[n]);return e}},{key:"cssVarName",value:function(t){return"--".concat(this.namespace,"-").concat(t)}},{key:"cssVarBlockName",value:function(t){return"--".concat(this.namespace,"-").concat(this.block,"-").concat(t)}}]),t}();function tt(t){if("string"!=typeof t)throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}function et(t,e){for(var n,r="",i=0,o=-1,a=0,c=0;c<=t.length;++c){if(c<t.length)n=t.charCodeAt(c);else{if(47===n)break;n=47}if(47===n){if(o===c-1||1===a);else if(o!==c-1&&2===a){if(r.length<2||2!==i||46!==r.charCodeAt(r.length-1)||46!==r.charCodeAt(r.length-2))if(r.length>2){var s=r.lastIndexOf("/");if(s!==r.length-1){-1===s?(r="",i=0):i=(r=r.slice(0,s)).length-1-r.lastIndexOf("/"),o=c,a=0;continue}}else if(2===r.length||1===r.length){r="",i=0,o=c,a=0;continue}e&&(r.length>0?r+="/..":r="..",i=2)}else r.length>0?r+="/"+t.slice(o+1,c):r=t.slice(o+1,c),i=c-o-1;o=c,a=0}else 46===n&&-1!==a?++a:a=-1}return r}var nt={resolve:function(){for(var t,e="",n=!1,r=arguments.length-1;r>=-1&&!n;r--){var i;r>=0?i=arguments[r]:(void 0===t&&(t=process.cwd()),i=t),tt(i),0!==i.length&&(e=i+"/"+e,n=47===i.charCodeAt(0))}return e=et(e,!n),n?e.length>0?"/"+e:"/":e.length>0?e:"."},normalize:function(t){if(tt(t),0===t.length)return".";var e=47===t.charCodeAt(0),n=47===t.charCodeAt(t.length-1);return 0!==(t=et(t,!e)).length||e||(t="."),t.length>0&&n&&(t+="/"),e?"/"+t:t},isAbsolute:function(t){return tt(t),t.length>0&&47===t.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var t,e=0;e<arguments.length;++e){var n=arguments[e];tt(n),n.length>0&&(void 0===t?t=n:t+="/"+n)}return void 0===t?".":nt.normalize(t)},relative:function(t,e){if(tt(t),tt(e),t===e)return"";if((t=nt.resolve(t))===(e=nt.resolve(e)))return"";for(var n=1;n<t.length&&47===t.charCodeAt(n);++n);for(var r=t.length,i=r-n,o=1;o<e.length&&47===e.charCodeAt(o);++o);for(var a=e.length-o,c=i<a?i:a,s=-1,u=0;u<=c;++u){if(u===c){if(a>c){if(47===e.charCodeAt(o+u))return e.slice(o+u+1);if(0===u)return e.slice(o+u)}else i>c&&(47===t.charCodeAt(n+u)?s=u:0===u&&(s=0));break}var l=t.charCodeAt(n+u);if(l!==e.charCodeAt(o+u))break;47===l&&(s=u)}var f="";for(u=n+s+1;u<=r;++u)u!==r&&47!==t.charCodeAt(u)||(0===f.length?f+="..":f+="/..");return f.length>0?f+e.slice(o+s):(o+=s,47===e.charCodeAt(o)&&++o,e.slice(o))},_makeLong:function(t){return t},dirname:function(t){if(tt(t),0===t.length)return".";for(var e=t.charCodeAt(0),n=47===e,r=-1,i=!0,o=t.length-1;o>=1;--o)if(47===(e=t.charCodeAt(o))){if(!i){r=o;break}}else i=!1;return-1===r?n?"/":".":n&&1===r?"//":t.slice(0,r)},basename:function(t,e){if(void 0!==e&&"string"!=typeof e)throw new TypeError('"ext" argument must be a string');tt(t);var n,r=0,i=-1,o=!0;if(void 0!==e&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";var a=e.length-1,c=-1;for(n=t.length-1;n>=0;--n){var s=t.charCodeAt(n);if(47===s){if(!o){r=n+1;break}}else-1===c&&(o=!1,c=n+1),a>=0&&(s===e.charCodeAt(a)?-1==--a&&(i=n):(a=-1,i=c))}return r===i?i=c:-1===i&&(i=t.length),t.slice(r,i)}for(n=t.length-1;n>=0;--n)if(47===t.charCodeAt(n)){if(!o){r=n+1;break}}else-1===i&&(o=!1,i=n+1);return-1===i?"":t.slice(r,i)},extname:function(t){tt(t);for(var e=-1,n=0,r=-1,i=!0,o=0,a=t.length-1;a>=0;--a){var c=t.charCodeAt(a);if(47!==c)-1===r&&(i=!1,r=a+1),46===c?-1===e?e=a:1!==o&&(o=1):-1!==e&&(o=-1);else if(!i){n=a+1;break}}return-1===e||-1===r||0===o||1===o&&e===r-1&&e===n+1?"":t.slice(e,r)},format:function(t){if(null===t||"object"!==d(t))throw new TypeError('The "pathObject" argument must be of type Object. Received type '+d(t));return function(t,e){var n=e.dir||e.root,r=e.base||(e.name||"")+(e.ext||"");return n?n===e.root?n+r:n+t+r:r}("/",t)},parse:function(t){tt(t);var e={root:"",dir:"",base:"",ext:"",name:""};if(0===t.length)return e;var n,r=t.charCodeAt(0),i=47===r;i?(e.root="/",n=1):n=0;for(var o=-1,a=0,c=-1,s=!0,u=t.length-1,l=0;u>=n;--u)if(47!==(r=t.charCodeAt(u)))-1===c&&(s=!1,c=u+1),46===r?-1===o?o=u:1!==l&&(l=1):-1!==o&&(l=-1);else if(!s){a=u+1;break}return-1===o||-1===c||0===l||1===l&&o===c-1&&o===a+1?-1!==c&&(e.base=e.name=0===a&&i?t.slice(1,c):t.slice(a,c)):(0===a&&i?(e.name=t.slice(1,o),e.base=t.slice(1,c)):(e.name=t.slice(a,o),e.base=t.slice(a,c)),e.ext=t.slice(o,c)),a>0?e.dir=t.slice(0,a-1):i&&(e.dir="/"),e},sep:"/",delimiter:":",win32:null,posix:null};function rt(){return(65536*(1+Math.random())|0).toString(16).substring(1)}function it(){return"".concat(rt()+rt(),"-").concat(rt(),"-").concat(rt(),"-").concat(rt(),"-").concat(rt()).concat(rt()).concat(rt())}nt.posix=nt;var ot=function(){function t(){p(this,t)}return _(t,null,[{key:"copy",value:function(t){return this.inputElement||(this.inputElement=document.createElement("input"),this.inputElement.style.position="absolute",this.inputElement.style.left="-9999px",document.body.appendChild(this.inputElement)),this.inputElement.value=t,this.inputElement.select(),document.execCommand("copy")}}]),t}();m(ot,"inputElement",null);var at=function(){function t(){p(this,t)}var e,n,r,i,o,a,c,s,u,f;return _(t,null,[{key:"checkDataBaseExists",value:(f=h(l().mark((function t(e){var n;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,indexedDB.databases();case 3:return n=t.sent,t.abrupt("return",n.some((function(t){return t.name===e})));case 7:return t.prev=7,t.t0=t.catch(0),console.error("检查数据库是否存在时出错:",t.t0),t.abrupt("return",!1);case 11:case"end":return t.stop()}}),t,null,[[0,7]])}))),function(t){return f.apply(this,arguments)})},{key:"deleteDatabase",value:(u=h(l().mark((function e(n){var r,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.lastLink&&(null===(r=(i=t.lastLink).close)||void 0===r||r.call(i)),e.abrupt("return",new Promise((function(t,e){var r=indexedDB.deleteDatabase(n);r.onsuccess=function(){t(!0)},r.onerror=function(){t(!1)},r.onblocked=function(){console.warn("删除数据库 ".concat(n," 被阻塞，可能有其他连接正在使用该数据库。")),e(new Error("删除数据库 ".concat(n," 被阻塞")))}})));case 2:case"end":return e.stop()}}),e)}))),function(t){return u.apply(this,arguments)})},{key:"checkTableExists",value:(s=h(l().mark((function e(n,r){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.checkDataBaseExists(n);case 2:if(e.sent){e.next=5;break}return e.abrupt("return",!1);case 5:return e.abrupt("return",new Promise((function(e,i){var o=indexedDB.open(n);o.onupgradeneeded=function(e){t.db=e.target.result,t.version=t.db.version},o.onsuccess=function(n){t.db=n.target.result,t.lastLink=o.result;var i=t.db.objectStoreNames.contains(r);o.result.close(),e(i)},o.onerror=function(t){i(t.target.error)}})));case 6:case"end":return e.stop()}}),e)}))),function(t,e){return s.apply(this,arguments)})},{key:"createTable",value:(c=h(l().mark((function e(n,r,i){var o,a=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=a.length>3&&void 0!==a[3]&&a[3],e.abrupt("return",new Promise((function(e){var a,c;t.version+=1,t.lastLink&&(null===(a=(c=t.lastLink).close)||void 0===a||a.call(c));var s=indexedDB.open(n,t.version);s.onupgradeneeded=function(e){if(t.db=e.target.result,!t.db.objectStoreNames.contains(r)){var n={};i?n.keyPath=i:o&&(n.autoIncrement=!0),t.db.createObjectStore(r,n)}},s.onsuccess=function(){t.lastLink=s.result,s.result.close(),e(!0)},s.onerror=function(){e(!1)}})));case 2:case"end":return e.stop()}}),e)}))),function(t,e,n){return c.apply(this,arguments)})},{key:"deleteTable",value:(a=h(l().mark((function e(n,r){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var i,o;t.version+=1,t.lastLink&&(null===(i=(o=t.lastLink).close)||void 0===i||i.call(o));var a=indexedDB.open(n,t.version);a.onupgradeneeded=function(e){t.db=e.target.result,t.lastLink=a.result,t.db.objectStoreNames.contains(r)&&t.db.deleteObjectStore(r)},a.onsuccess=function(n){t.db=n.target.result,t.lastLink=a.result,a.result.close(),e(!0)},a.onerror=function(){a.result.close(),e(!1)}})));case 1:case"end":return e.stop()}}),e)}))),function(t,e){return a.apply(this,arguments)})},{key:"addData",value:(o=h(l().mark((function e(n,r,i){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,o){var a=indexedDB.open(n);a.onsuccess=function(n){if(t.db=n.target.result,t.lastLink=a.result,t.db.objectStoreNames.contains(r)){var o=t.db.transaction([r],"readwrite").objectStore(r).add(i);o.onsuccess=function(t){e(i)},o.onerror=function(){e(null)}}a.result.close()},a.onerror=function(){a.result.close(),o()}})));case 1:case"end":return e.stop()}}),e)}))),function(t,e,n){return o.apply(this,arguments)})},{key:"deleteData",value:(i=h(l().mark((function e(n,r,i){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,o){var a=indexedDB.open(n);a.onsuccess=function(n){if(t.db=n.target.result,t.lastLink=a.result,t.db.objectStoreNames.contains(r)){var o=t.db.transaction([r],"readwrite").objectStore(r).delete(i);o.onsuccess=function(t){e(!0)},o.onerror=function(){e(!1)}}a.result.close()},a.onerror=function(){a.result.close(),o()}})));case 1:case"end":return e.stop()}}),e)}))),function(t,e,n){return i.apply(this,arguments)})},{key:"updateData",value:(r=h(l().mark((function e(n,r,i){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,o){var a=indexedDB.open(n);a.onsuccess=function(n){if(t.db=n.target.result,t.lastLink=a.result,t.db.objectStoreNames.contains(r)){var o=t.db.transaction([r],"readwrite").objectStore(r).put(i);o.onsuccess=function(t){e(i)},o.onerror=function(){e(i)}}a.result.close()},a.onerror=function(){a.result.close(),o()}})));case 1:case"end":return e.stop()}}),e)}))),function(t,e,n){return r.apply(this,arguments)})},{key:"getData",value:(n=h(l().mark((function e(n,r,i){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,o){var a=indexedDB.open(n);a.onsuccess=function(n){if(t.db=n.target.result,t.lastLink=a.result,t.db.objectStoreNames.contains(r)){var c=t.db.transaction([r],"readonly").objectStore(r).get(i);c.onsuccess=function(t){e(c.result)},c.onerror=function(){o(new Error("未找到数据".concat(i)))}}a.result.close()},a.onerror=function(){a.result.close(),o()}})));case 1:case"end":return e.stop()}}),e)}))),function(t,e,r){return n.apply(this,arguments)})},{key:"getAllData",value:(e=h(l().mark((function e(n,r){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,i){var o=indexedDB.open(n);o.onsuccess=function(n){if(t.db=n.target.result,t.lastLink=o.result,t.db.objectStoreNames.contains(r)){var i=t.db.transaction([r],"readonly").objectStore(r).getAll();i.onsuccess=function(t){e(i.result)},i.onerror=function(){e([])}}o.result.close()},o.onerror=function(){o.result.close(),i()}})));case 1:case"end":return e.stop()}}),e)}))),function(t,n){return e.apply(this,arguments)})}]),t}();m(at,"version",1),m(at,"db",null),m(at,"lastLink",void 0);var ct,st,ut,lt,ft=0,ht=[],dt=[],pt=f.__b,vt=f.__r,_t=f.diffed,mt=f.__c,yt=f.unmount;function gt(t,e){f.__h&&f.__h(st,t,ft||e),ft=0;var n=st.__H||(st.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({__V:dt}),n.__[t]}function bt(t){return ft=1,function(t,e,n){var r=gt(ct++,2);if(r.t=t,!r.__c&&(r.__=[n?n(e):Dt(void 0,e),function(t){var e=r.__N?r.__N[0]:r.__[0],n=r.t(e,t);e!==n&&(r.__N=[n,r.__[1]],r.__c.setState({}))}],r.__c=st,!st.u)){var i=function(t,e,n){if(!r.__c.__H)return!0;var i=r.__c.__H.__.filter((function(t){return t.__c}));if(i.every((function(t){return!t.__N})))return!o||o.call(this,t,e,n);var a=!1;return i.forEach((function(t){if(t.__N){var e=t.__[0];t.__=t.__N,t.__N=void 0,e!==t.__[0]&&(a=!0)}})),!(!a&&r.__c.props===t)&&(!o||o.call(this,t,e,n))};st.u=!0;var o=st.shouldComponentUpdate,a=st.componentWillUpdate;st.componentWillUpdate=function(t,e,n){if(this.__e){var r=o;o=void 0,i(t,e,n),o=r}a&&a.call(this,t,e,n)},st.shouldComponentUpdate=i}return r.__N||r.__}(Dt,t)}function wt(t,e){var n=gt(ct++,3);!f.__s&&Ot(n.__H,e)&&(n.__=t,n.i=e,st.__H.__h.push(n))}function kt(t){return ft=5,xt((function(){return{current:t}}),[])}function xt(t,e){var n=gt(ct++,7);return Ot(n.__H,e)?(n.__V=t(),n.i=e,n.__h=t,n.__V):n.__}function Et(t,e){return ft=8,xt((function(){return t}),e)}function Ct(){for(var t;t=ht.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(Tt),t.__H.__h.forEach(At),t.__H.__h=[]}catch(bn){t.__H.__h=[],f.__e(bn,t.__v)}}f.__b=function(t){st=null,pt&&pt(t)},f.__r=function(t){vt&&vt(t),ct=0;var e=(st=t.__c).__H;e&&(ut===st?(e.__h=[],st.__h=[],e.__.forEach((function(t){t.__N&&(t.__=t.__N),t.__V=dt,t.__N=t.i=void 0}))):(e.__h.forEach(Tt),e.__h.forEach(At),e.__h=[],ct=0)),ut=st},f.diffed=function(t){_t&&_t(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(1!==ht.push(e)&&lt===f.requestAnimationFrame||((lt=f.requestAnimationFrame)||St)(Ct)),e.__H.__.forEach((function(t){t.i&&(t.__H=t.i),t.__V!==dt&&(t.__=t.__V),t.i=void 0,t.__V=dt}))),ut=st=null},f.__c=function(t,e){e.some((function(t){try{t.__h.forEach(Tt),t.__h=t.__h.filter((function(t){return!t.__||At(t)}))}catch(Ft){e.some((function(t){t.__h&&(t.__h=[])})),e=[],f.__e(Ft,t.__v)}})),mt&&mt(t,e)},f.unmount=function(t){yt&&yt(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach((function(t){try{Tt(t)}catch(t){e=t}})),n.__H=void 0,e&&f.__e(e,n.__v))};var Nt="function"==typeof requestAnimationFrame;function St(t){var e,n=function(){clearTimeout(r),Nt&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(n,100);Nt&&(e=requestAnimationFrame(n))}function Tt(t){var e=st,n=t.__c;"function"==typeof n&&(t.__c=void 0,n()),st=e}function At(t){var e=st;t.__c=t.__(),st=e}function Ot(t,e){return!t||t.length!==e.length||e.some((function(e,n){return e!==t[n]}))}function Dt(t,e){return"function"==typeof e?e(t):e}function Lt(){throw new Error("Cycle detected")}var It=Symbol.for("preact-signals");function zt(){if(Bt>1)Bt--;else{for(var t,e=!1;void 0!==jt;){var n=jt;for(jt=void 0,Rt++;void 0!==n;){var r=n.o;if(n.o=void 0,n.f&=-3,!(8&n.f)&&Yt(n))try{n.c()}catch(n){e||(t=n,e=!0)}n=r}}if(Rt=0,Bt--,e)throw t}}var Mt,Pt,Ht=void 0,jt=void 0,Bt=0,Rt=0,Ft=0;function Ut(t){if(void 0!==Ht){var e=t.n;if(void 0===e||e.t!==Ht)return e={i:0,S:t,p:Ht.s,n:void 0,t:Ht,e:void 0,x:void 0,r:e},void 0!==Ht.s&&(Ht.s.n=e),Ht.s=e,t.n=e,32&Ht.f&&t.S(e),e;if(-1===e.i)return e.i=0,void 0!==e.n&&(e.n.p=e.p,void 0!==e.p&&(e.p.n=e.n),e.p=Ht.s,e.n=void 0,Ht.s.n=e,Ht.s=e),e}}function Vt(t){this.v=t,this.i=0,this.n=void 0,this.t=void 0}function Wt(t){return new Vt(t)}function Yt(t){for(var e=t.s;void 0!==e;e=e.n)if(e.S.i!==e.i||!e.S.h()||e.S.i!==e.i)return!0;return!1}function $t(t){for(var e=t.s;void 0!==e;e=e.n){var n=e.S.n;if(void 0!==n&&(e.r=n),e.S.n=e,e.i=-1,void 0===e.n){t.s=e;break}}}function qt(t){for(var e=t.s,n=void 0;void 0!==e;){var r=e.p;-1===e.i?(e.S.U(e),void 0!==r&&(r.n=e.n),void 0!==e.n&&(e.n.p=r)):n=e,e.S.n=e.r,void 0!==e.r&&(e.r=void 0),e=r}t.s=n}function Xt(t){Vt.call(this,void 0),this.x=t,this.s=void 0,this.g=Ft-1,this.f=4}function Gt(t){return new Xt(t)}function Zt(t){var e=t.u;if(t.u=void 0,"function"==typeof e){Bt++;var n=Ht;Ht=void 0;try{e()}catch(e){throw t.f&=-2,t.f|=8,Jt(t),e}finally{Ht=n,zt()}}}function Jt(t){for(var e=t.s;void 0!==e;e=e.n)e.S.U(e);t.x=void 0,t.s=void 0,Zt(t)}function Kt(t){if(Ht!==this)throw new Error("Out-of-order effect");qt(this),Ht=t,this.f&=-2,8&this.f&&Jt(this),zt()}function Qt(t){this.x=t,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32}function te(t){var e=new Qt(t);try{e.c()}catch(t){throw e.d(),t}return e.d.bind(e)}function ee(t,e){f[t]=e.bind(null,f[t]||function(){})}function ne(t){Pt&&Pt(),Pt=t&&t.S()}function re(t){var e=this,n=t.data,r=oe(n);r.value=n;var i=xt((function(){for(var t=e.__v;t=t.__;)if(t.__c){t.__c.__$f|=4;break}return e.__$u.c=function(){var t;y(i.peek())||3!==(null==(t=e.base)?void 0:t.nodeType)?(e.__$f|=1,e.setState({})):e.base.data=i.peek()},Gt((function(){var t=r.value.value;return 0===t?0:!0===t?"":t||""}))}),[]);return i.value}function ie(t,e,n,r){var i=e in t&&void 0===t.ownerSVGElement,o=Wt(n);return{o:function(t,e){o.value=t,r=e},d:te((function(){var n=o.value.value;r[e]!==n&&(r[e]=n,i?t[e]=n:n?t.setAttribute(e,n):t.removeAttribute(e))}))}}function oe(t){return xt((function(){return Wt(t)}),[])}function ae(t){var e=kt(t);return e.current=t,Mt.__$f|=4,xt((function(){return Gt((function(){return e.current()}))}),[])}Vt.prototype.brand=It,Vt.prototype.h=function(){return!0},Vt.prototype.S=function(t){this.t!==t&&void 0===t.e&&(t.x=this.t,void 0!==this.t&&(this.t.e=t),this.t=t)},Vt.prototype.U=function(t){if(void 0!==this.t){var e=t.e,n=t.x;void 0!==e&&(e.x=n,t.e=void 0),void 0!==n&&(n.e=e,t.x=void 0),t===this.t&&(this.t=n)}},Vt.prototype.subscribe=function(t){var e=this;return te((function(){var n=e.value,r=32&this.f;this.f&=-33;try{t(n)}finally{this.f|=r}}))},Vt.prototype.valueOf=function(){return this.value},Vt.prototype.toString=function(){return this.value+""},Vt.prototype.toJSON=function(){return this.value},Vt.prototype.peek=function(){return this.v},Object.defineProperty(Vt.prototype,"value",{get:function(){var t=Ut(this);return void 0!==t&&(t.i=this.i),this.v},set:function(t){if(Ht instanceof Xt&&function(){throw new Error("Computed cannot have side-effects")}(),t!==this.v){Rt>100&&Lt(),this.v=t,this.i++,Ft++,Bt++;try{for(var e=this.t;void 0!==e;e=e.x)e.t.N()}finally{zt()}}}}),(Xt.prototype=new Vt).h=function(){if(this.f&=-3,1&this.f)return!1;if(32==(36&this.f))return!0;if(this.f&=-5,this.g===Ft)return!0;if(this.g=Ft,this.f|=1,this.i>0&&!Yt(this))return this.f&=-2,!0;var t=Ht;try{$t(this),Ht=this;var e=this.x();(16&this.f||this.v!==e||0===this.i)&&(this.v=e,this.f&=-17,this.i++)}catch(t){this.v=t,this.f|=16,this.i++}return Ht=t,qt(this),this.f&=-2,!0},Xt.prototype.S=function(t){if(void 0===this.t){this.f|=36;for(var e=this.s;void 0!==e;e=e.n)e.S.S(e)}Vt.prototype.S.call(this,t)},Xt.prototype.U=function(t){if(void 0!==this.t&&(Vt.prototype.U.call(this,t),void 0===this.t)){this.f&=-33;for(var e=this.s;void 0!==e;e=e.n)e.S.U(e)}},Xt.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(var t=this.t;void 0!==t;t=t.x)t.t.N()}},Xt.prototype.peek=function(){if(this.h()||Lt(),16&this.f)throw this.v;return this.v},Object.defineProperty(Xt.prototype,"value",{get:function(){1&this.f&&Lt();var t=Ut(this);if(this.h(),void 0!==t&&(t.i=this.i),16&this.f)throw this.v;return this.v}}),Qt.prototype.c=function(){var t=this.S();try{if(8&this.f)return;if(void 0===this.x)return;var e=this.x();"function"==typeof e&&(this.u=e)}finally{t()}},Qt.prototype.S=function(){1&this.f&&Lt(),this.f|=1,this.f&=-9,Zt(this),$t(this),Bt++;var t=Ht;return Ht=this,Kt.bind(this,t)},Qt.prototype.N=function(){2&this.f||(this.f|=2,this.o=jt,jt=this)},Qt.prototype.d=function(){this.f|=8,1&this.f||Jt(this)},re.displayName="_st",Object.defineProperties(Vt.prototype,{constructor:{configurable:!0,value:void 0},type:{configurable:!0,value:re},props:{configurable:!0,get:function(){return{data:this}}},__b:{configurable:!0,value:1}}),ee("__b",(function(t,e){if("string"==typeof e.type){var n,r=e.props;for(var i in r)if("children"!==i){var o=r[i];o instanceof Vt&&(n||(e.__np=n={}),n[i]=o,r[i]=o.peek())}}t(e)})),ee("__r",(function(t,e){ne();var n,r=e.__c;r&&(r.__$f&=-2,void 0===(n=r.__$u)&&(r.__$u=n=function(t){var e;return te((function(){e=this})),e.c=function(){r.__$f|=1,r.setState({})},e}())),Mt=r,ne(n),t(e)})),ee("__e",(function(t,e,n,r){ne(),Mt=void 0,t(e,n,r)})),ee("diffed",(function(t,e){var n;if(ne(),Mt=void 0,"string"==typeof e.type&&(n=e.__e)){var r=e.__np,i=e.props;if(r){var o=n.U;if(o)for(var a in o){var c=o[a];void 0===c||a in r||(c.d(),o[a]=void 0)}else n.U=o={};for(var s in r){var u=o[s],l=r[s];void 0===u?(u=ie(n,s,l,i),o[s]=u):u.o(l,i)}}}t(e)})),ee("unmount",(function(t,e){if("string"==typeof e.type){var n=e.__e;if(n){var r=n.U;if(r)for(var i in n.U=void 0,r){var o=r[i];o&&o.d()}}}else{var a=e.__c;if(a){var c=a.__$u;c&&(a.__$u=void 0,c.d())}}t(e)})),ee("__h",(function(t,e,n,r){(r<3||9===r)&&(e.__$f|=2),t(e,n,r)})),L.prototype.shouldComponentUpdate=function(t,e){var n=this.__$u;if(!(n&&void 0!==n.s||4&this.__$f))return!0;if(3&this.__$f)return!0;for(var r in e)return!0;for(var i in t)if("__source"!==i&&t[i]!==this.props[i])return!0;for(var o in this.props)if(!(o in t))return!0;return!1};var ce=0;function se(t,e,n,r,i,o){var a,c,s={};for(c in e)"ref"==c?a=e[c]:s[c]=e[c];var u={type:t,props:s,key:n,ref:a,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--ce,__source:i,__self:o};if("function"==typeof t&&(a=t.defaultProps))for(c in a)void 0===s[c]&&(s[c]=a[c]);return f.vnode&&f.vnode(u),u}var ue=function(){return se("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:se("path",{d:"M843.904 783.573333 783.573333 843.904 512.042667 572.373333 240.512 843.904 180.181333 783.573333 451.712 512.042667 180.181333 240.512 240.512 180.181333 512.042667 451.712 783.573333 180.181333 843.904 240.512 572.373333 512.042667 843.904 783.573333Z"})})},le=function(){return se("svg",{className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:se("path",{d:"M900.64 379.808l-263.072-256.032c-36.448-35.328-105.76-35.392-142.304 0.096l-327.04 319.904c-56.416 54.72-70.72 76.704-70.72 150.976l0 143.936c0 132.768 26.976 192 186.912 192l131.872 0c81.12 0 128.448-46.656 193.952-111.264l290.016-297.696c18.592-17.984 29.248-43.968 29.248-71.264C929.504 423.36 918.976 397.6 900.64 379.808zM323.008 786.752c-52.928 0-96-43.072-96-96s43.072-96 96-96 96 43.072 96 96S375.936 786.752 323.008 786.752z"})})},fe=function(){return se("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:se("path",{d:"M931.4 498.9L94.9 79.5c-3.4-1.7-7.3-2.1-11-1.2-8.5 2.1-13.8 10.7-11.7 19.3l86.2 352.2c1.3 5.3 5.2 9.6 10.4 11.3l147.7 50.7-147.6 50.7c-5.2 1.8-9.1 6-10.3 11.3L72.2 926.5c-0.9 3.7-0.5 7.6 1.2 10.9 3.9 7.9 13.5 11.1 21.5 7.2l836.5-417c3.1-1.5 5.6-4.1 7.2-7.1 3.9-8 0.7-17.6-7.2-21.6zM170.8 826.3l50.3-205.6 295.2-101.3c2.3-0.8 4.2-2.6 5-5 1.4-4.2-0.8-8.7-5-10.2L221.1 403 171 198.2l628 314.9-628.2 313.2z"})})},he=function(){return se("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:se("path",{d:"M962 197.61H747v-60c0-55.14-44.86-100-100-100H377c-55.14 0-100 44.86-100 100v60H62c-11.05 0-20 8.95-20 20s8.95 20 20 20h60v630.57c0 66.17 53.83 120 120 120h540c66.17 0 120-53.83 120-120V237.61h60c11.05 0 20-8.95 20-20s-8.95-20-20-20zM637.34 457.66v260c0 12.01-10.72 21.63-23.06 19.77-9.84-1.48-16.94-10.25-16.94-20.2V458.09c0-9.95 7.1-18.72 16.94-20.2 12.34-1.86 23.06 7.76 23.06 19.77z m-210.68 0v260c0 11-9 20-20 20s-20-9-20-20v-260c0-11 9-20 20-20s20 9 20 20zM317 137.61c0-33.08 26.92-60 60-60h270c33.08 0 60 26.92 60 60v60H317v-60z"})})},de=function(){return se("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:se("path",{d:"M511.582491 63.413262C265.134543 63.413262 64.62588 263.921925 64.62588 510.369873s200.508663 446.957635 446.957635 446.957635 446.957635-200.508663 446.957635-446.957635S758.031463 63.413262 511.582491 63.413262zM509.001713 751.859903c-98.517781 0-182.467775-62.623269-214.771505-150.056598l0.327458-0.134053c-2.007727-4.036943-3.38305-8.422833-3.38305-13.237489 0-16.647145 13.494339-30.142507 30.142507-30.142507 13.389962 0 24.358781 8.877181 28.2893 20.955264l0.422625-0.172939c23.269983 65.442478 85.645612 112.503307 158.972665 112.503307 93.106538 0 168.845523-75.738985 168.845523-168.845523s-75.738985-168.845523-168.845523-168.845523c-20.432355 0-39.874149 3.980661-58.013275 10.66899l21.248953 40.742936c2.486634 2.677992 4.0175 6.2831 4.0175 10.243295 0 8.417717-8.404414 14.921851-15.365966 15.07023-0.102331 0-0.206708 0-0.309038 0-0.220011 0-0.427742 0-0.647753-0.013303l-150.579507-6.463202c-5.372358-0.234337-10.229992-3.310396-12.716626-8.093329-2.486634-4.76963-2.236947-10.509355 0.647753-15.055904l80.890308-127.179564c2.8847-4.533246 8.006348-7.151887 13.365402-6.960529 5.372358 0.234337 10.227945 3.312442 12.71458 8.095375l18.580171 35.625382c26.629497-10.855232 55.683207-16.963347 86.168522-16.963347 126.338407 0 229.130537 102.791108 229.130537 229.130537S635.340119 751.859903 509.001713 751.859903z"})})},pe=function(){return se("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:se("path",{d:"M891.072 822.144V167.36a34.432 34.432 0 0 0-34.432-34.432H201.856C201.856 94.848 232.704 64 270.784 64h620.288C929.152 64 960 94.848 960 132.928v620.288c0 38.08-30.848 68.928-68.928 68.928z m-68.928-551.36v620.288c0 38.08-30.848 68.928-68.928 68.928H132.928A68.928 68.928 0 0 1 64 891.072V270.784c0-38.08 30.848-68.928 68.928-68.928h620.288c38.08 0 68.928 30.848 68.928 68.928z m-137.856 137.856H201.856a34.432 34.432 0 0 0 0 68.864h482.432a34.432 34.432 0 0 0 0-68.864z m0 206.72H201.856a34.432 34.432 0 0 0 0 68.864h482.432a34.432 34.432 0 0 0 0-68.864z"})})},ve=function(){return se("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:se("path",{d:"M547.4 197.4v46l200.3 0.1L546.1 444l32.4 32.6 201.9-200.7v200.9h46V197.5zM471.4 584.4l-32.6-32.6L243.6 747V547.9h-46v278.7h279v-46H275z"})})},_e=function(){return se("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:se("path",{d:"M544 480V282.944h52.224l0.064 107.968L763.072 224l36.928 36.928-166.976 166.976 108.032-0.128V480H544zM260.928 800l-36.928-36.928 166.912-166.784-107.968-0.064V544H480v197.056h-52.224l0.064-107.968L260.928 800z"})})},me=function(){return se("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:se("path",{d:"M960 544H64a32 32 0 1 1 0-64h896a32 32 0 1 1 0 64"})})},ye=function(){return se("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:[se("path",{d:"M481.0752 263.3728l50.9952 1.024 1.8432-105.8816-50.9952-0.8192z"}),se("path",{d:"M486.441426 180.895362a66.56 66.56 0 1 0 42.091944-126.290153 66.56 66.56 0 1 0-42.091944 126.290153Z"}),se("path",{d:"M138.8544 664.3712c-52.8384 0-95.8464-43.008-95.8464-95.8464s43.008-95.8464 95.8464-95.8464M880.0256 472.6784c52.8384 0 95.8464 43.008 95.8464 95.8464s-43.008 95.8464-95.8464 95.8464"}),se("path",{d:"M507.4944 220.5696c-220.16 0-398.7456 162.816-398.7456 363.7248s178.5856 363.7248 398.7456 363.7248 398.7456-162.816 398.7456-363.7248-178.5856-363.7248-398.7456-363.7248z m0 559.9232c-166.2976 0-301.2608-100.5568-301.2608-224.4608s134.9632-224.4608 301.2608-224.4608S808.7552 432.128 808.7552 556.032 673.792 780.4928 507.4944 780.4928z"}),se("path",{d:"M319.6928 556.032a47.9232 38.912 90 1 0 77.824 0 47.9232 38.912 90 1 0-77.824 0Z"}),se("path",{d:"M617.472 556.032a47.9232 38.912 90 1 0 77.824 0 47.9232 38.912 90 1 0-77.824 0Z"})]})},ge=function(){return se("svg",{viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[se("path",{d:"M5.856 17.121a.979.979 0 0 1-.327-.06.839.839 0 0 1-.283-.177.739.739 0 0 1-.187-.255.724.724 0 0 1-.07-.303l-.02-1.609a4.663 4.663 0 0 1-1.446-.455 4.252 4.252 0 0 1-.637-.401c-.199-.146-.385-.31-.553-.492a4.442 4.442 0 0 1-.45-.577 4.303 4.303 0 0 1-.327-.637 3.823 3.823 0 0 1-.206-.686 3.729 3.729 0 0 1-.064-.704V6.478c0-.261.025-.516.077-.771a4.43 4.43 0 0 1 .244-.747 4.062 4.062 0 0 1 .932-1.28c.2-.183.418-.347.65-.493.23-.145.482-.267.739-.364a4.21 4.21 0 0 1 .81-.225c.27-.054.553-.078.835-.078H8.55c.103 0 .2.018.29.054a.7.7 0 0 1 .411.376.667.667 0 0 1-.161.766.736.736 0 0 1-.25.151.764.764 0 0 1-.29.055H5.573c-.186 0-.366.012-.54.049-.18.03-.353.079-.52.145-.167.061-.328.14-.482.237-.148.091-.29.2-.418.316a2.897 2.897 0 0 0-.347.388c-.097.14-.187.286-.257.444a2.473 2.473 0 0 0-.206.977v4.287c0 .17.013.333.051.503a2.549 2.549 0 0 0 .772 1.33 2.721 2.721 0 0 0 .913.559c.167.066.347.115.527.152.18.03.36.048.546.048a.904.904 0 0 1 .61.23.848.848 0 0 1 .194.262.84.84 0 0 1 .07.303l.007.99 1.915-1.293a2.877 2.877 0 0 1 1.64-.492h2.372c.186 0 .366-.018.54-.048.18-.03.353-.08.52-.146.168-.067.329-.146.483-.237.148-.091.29-.2.418-.316.128-.121.244-.249.347-.388a2.8 2.8 0 0 0 .257-.444 2.47 2.47 0 0 0 .206-.977V8.585a.646.646 0 0 1 .225-.492.679.679 0 0 1 .244-.152.814.814 0 0 1 .585 0c.09.03.174.085.244.152a.657.657 0 0 1 .225.492V10.8c0 .261-.032.516-.083.771a4.192 4.192 0 0 1-.245.74c-.109.244-.244.468-.398.687a3.735 3.735 0 0 1-.534.6c-.2.183-.418.347-.65.493a4.134 4.134 0 0 1-.738.364 4.7 4.7 0 0 1-.81.225c-.27.054-.553.079-.836.079h-1.877c-.604 0-1.144.164-1.633.491l-2.54 1.713a.913.913 0 0 1-.514.157z",fill:"currentColor"}),se("path",{d:"M15.866 4.125h-4.174c-.41 0-.741.313-.741.7 0 .387.332.7.741.7h4.174c.41 0 .742-.313.742-.7 0-.387-.332-.7-.742-.7z",fill:"currentColor"}),se("path",{d:"M14.537 2.932c0-.396-.34-.717-.759-.717s-.758.32-.758.717v3.786c0 .396.34.717.758.717.42 0 .76-.321.76-.717V2.932z",fill:"currentColor"})]})},be=function(){return se("svg",{viewBox:"64 64 896 896",focusable:"false",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",children:se("path",{d:"M842 454c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8 0 140.3-113.7 254-254 254S258 594.3 258 454c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8 0 168.7 126.6 307.9 290 327.6V884H326.7c-13.7 0-24.7 14.3-24.7 32v36c0 4.4 2.8 8 6.2 8h407.6c3.4 0 6.2-3.6 6.2-8v-36c0-17.7-11-32-24.7-32H548V782.1c165.3-18 294-158 294-328.1zM512 624c93.9 0 170-75.2 170-168V232c0-92.8-76.1-168-170-168s-170 75.2-170 168v224c0 92.8 76.1 168 170 168zm-94-392c0-50.6 41.9-92 94-92s94 41.4 94 92v224c0 50.6-41.9 92-94 92s-94-41.4-94-92V232z"})})},we=function(){var t=1e3,e=140,n=250,r=.8;return se("svg",{fill:"currentColor",viewBox:"0 0 ".concat(t," ").concat(t),xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:Array.from({length:4}).map((function(t,i){return se("rect",{fill:"currentColor",rx:70,ry:70,height:n,width:e,x:286.66666666666663*i,y:375,children:[se("animate",{attributeName:"height",values:"".concat(n,"; ").concat(500,"; ").concat(n),keyTimes:"0; 0.5; 1",dur:"".concat(r,"s"),begin:"".concat(.2*i,"s"),repeatCount:"indefinite"}),se("animate",{attributeName:"y",values:"".concat(375,"; ").concat(250,"; ").concat(375),keyTimes:"0; 0.5; 1",dur:"".concat(r,"s"),begin:"".concat(.2*i,"s"),repeatCount:"indefinite"})]},i)}))})},ke=function(t){return se("svg",{className:t.className,onClick:t.onClick,viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:se("path",{d:"M128 384a128 128 0 1 1 0 256 128 128 0 0 1 0-256z m768 0a128 128 0 1 1 0 256 128 128 0 0 1 0-256z m-372.4288 0a128 128 0 1 1 0 256 128 128 0 0 1 0-256z"})})},xe=function(t){return se("svg",{className:t.className,viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:se("path",{d:"M498.33984 607.8464c-10.99776-32.9728-50.09408-73.5232-82.6368-85.74976L150.9376 422.8096c-38.54336-14.4384-36.98688-69.46816 2.27328-81.73568L844.92288 124.90752c33.30048-10.40384 64.57344 20.8896 54.1696 54.1696L682.92608 870.78912a43.2128 43.2128 0 0 1-81.36704 3.25632 121682.5344 121682.5344 0 0 1-103.2192-266.19904z"})})},Ee=function(t){return se("svg",{xmlns:"http://www.w3.org/2000/svg",className:t.className,viewBox:"0 0 512 512",children:se("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"M112 184l144 144 144-144"})})},Ce=function(t){return se("svg",{xmlns:"http://www.w3.org/2000/svg",className:"".concat(t.className," icon"),viewBox:"0 0 512 512",children:se("path",{d:"M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm108.25 138.29l-134.4 160a16 16 0 01-12 5.71h-.27a16 16 0 01-11.89-5.3l-57.6-64a16 16 0 1123.78-21.4l45.29 50.32 122.59-145.91a16 16 0 0124.5 20.58z"})})},Ne=function(t){return se("svg",{className:t.className,width:"16",height:"16",viewBox:"0 0 50 50",xmlns:"http://www.w3.org/2000/svg",children:se("circle",{cx:"25",cy:"25",r:"20",stroke:"currentColor",strokeWidth:"5",fill:"none",strokeDasharray:"31.415, 31.415",strokeLinecap:"round",children:se("animateTransform",{attributeName:"transform",type:"rotate",from:"0 25 25",to:"360 25 25",dur:"1s",repeatCount:"indefinite"})})})},Se=function(t){var e=t.items,n=oe([]),r=new Q("chat-thought-chain"),i=oe([]);wt((function(){i.value=e.filter((function(t){return t.description})),i.value.length>0&&i.value.forEach((function(t,e){t.done&&(n.value=[].concat(c(n.value),[e]))}))}),[e]);return 0===i.value.length?null:se("div",{className:"".concat(r.b()," ").concat(r.is("single",1===i.value.length)),children:i.value.map((function(t,e){if(t.description){var i=n.value.includes(e);return se("div",{className:"".concat(r.e("item")," ").concat(r.is("collapsed",i)),children:[se("div",{className:r.e("item-icon"),children:t.icon||se("span",{children:e})}),se("div",{className:r.e("item-content"),children:[se("div",{className:r.e("item-title"),onClick:function(){return function(t){n.value.includes(t)?n.value=n.value.filter((function(e){return e!==t})):n.value=[].concat(c(n.value),[t])}(e)},children:[t.title,se(Ee,{className:r.e("icon")})]}),se("div",{className:r.e("item-description"),children:t.description})]})]},e)}}))})},Te=new Q("markdown-message"),Ae=function(t){var e=t.message,n=t.size,r=oe(it()),i=oe(null),o=xt((function(){return 20===e.state&&!0!==e.completed}),[e.state,e.completed]),a=xt((function(){return 20===e.state&&!0===e.completed}),[e.state,e.completed]),c=oe({title:"思考过程",description:"",icon:se(Ne,{})}),s=function(t){var e=t.indexOf("<think>"),n=t.indexOf("</think>"),r="",i="",o=!1;return-1===n?(o=!1,r=t.slice(e+7),i=""):(o=!0,r=t.slice(e+7,n),i=t.slice(n+8)),{isThoughtCompleted:o,thoughtContent:r,answerContent:i}};return wt((function(){if(n>=0&&i.value)if(-1!==e.content.indexOf("<think>")){var t=s(e.content),r=t.isThoughtCompleted,o=t.thoughtContent,a=t.answerContent;r&&(c.value.icon=se(r?Ce:Ne,{})),o&&(c.value.description=o),a&&i.value.setMarkdown(a)}else i.value.setMarkdown(e.content)}),[e,n]),wt((function(){var t="";if(-1!==e.content.indexOf("<think>")){var n=s(e.content),o=n.isThoughtCompleted,a=n.thoughtContent,l=n.answerContent;c.value={title:"思考过程",description:a||"",icon:se(o?Ce:Ne,{})},l&&(t=l)}else t=e.content;i.value=new u({id:r,value:t||"",editor:{defaultModel:"previewOnly"}})}),[]),se("div",{className:"".concat(Te.b()," ").concat(Te.is("loading",o)),children:[se("div",{className:Te.b("header"),children:[se("div",{className:Te.be("header","caption"),children:"AI "}),t.children,a?se("div",{className:Te.be("header","timeout"),children:"请求超时"}):null]}),se("div",{className:"".concat(Te.b("content")," pre-wrap-container"),children:[se(Se,{items:[c.value]}),se("div",{id:r})]}),se("div",{className:Te.b("footer")})]})},Oe=new Q("user-message-question"),De=function(t){var e=ae((function(){return t.message.content}));return se("div",{className:Oe.b(),children:[se("div",{className:Oe.e("user-header"),children:[t.children,se("div",{className:Oe.e("user"),children:"我"})]}),se("div",{className:Oe.e("content"),children:se("div",{dir:"auto",className:Oe.em("content","body"),children:se("p",{dir:"auto",className:"pre-wrap-container",children:e})})})]})},Le=new Q("error-message"),Ie=function(t){var e=ae((function(){return t.message.content}));return se("div",{className:Le.b(),children:[se("div",{className:Le.b("header"),children:[se("div",{className:Le.be("header","caption"),children:"AI "}),t.children]}),se("div",{className:"".concat(Le.e("content")," pre-wrap-container"),children:se("span",{children:e})})]})},ze=new Q("unknown-message"),Me=function(t){return se("div",{className:ze.b(),children:se("span",{className:"".concat(ze.e("content")," pre-wrap-container"),children:["暂未支持的消息类型: ",t.message.type]})})},Pe=new Q("chat-message-item"),He=function(t){var e=t.message,n=t.size,r=null;switch(e.type){case"DEFAULT":r="ASSISTANT"===e.role?Ae:De;break;case"ERROR":r=Ie;break;default:r=Me}return se("div",{className:Pe.b(),children:A(r,{size:n,message:e,controller:t.controller,children:t.children})})},je=new Q("chat-toolbar"),Be=function(t){var e=t.controller,n=t.items,r=void 0===n?[]:n,i=t.data,o=t.type,a=t.className,s=[],u="default",l=[{label:"新建对话",title:"新建对话",icon:se(ge,{}),onClick:function(){e.newDialogue()}}],f=[{label:"回填",title:"回填",icon:se(le,{}),onClick:function(){e.backfill(i)}},{label:"刷新",title:"刷新",icon:se(de,{}),onClick:function(){e.refreshMessage(i)}},{label:"删除",title:"删除",icon:se(he,{}),onClick:function(){e.deleteMessage(i)}},{label:"复制",title:"复制",icon:se(pe,{}),onClick:function(){e.copyMessage(i)}}],h=[{label:"刷新",title:"刷新",icon:se(de,{}),onClick:function(){e.refreshMessage(i,!0)}}];if("content"===o)switch(u="circle",i.type){case"DEFAULT":s="ASSISTANT"===i.role?[].concat(f,c(r)):[].concat(h);break;case"ERROR":s=[].concat(f,c(r))}else s=[].concat(l,c(r));var d=function(t){return"function"==typeof t.disabled?t.disabled(i):!0===t.disabled};return se("div",{className:"".concat(je.b()," ").concat(je.e(u)," ").concat(a||""),children:s.map((function(t,n){if(!function(t){return"function"==typeof t.hidden?t.hidden(i):!0===t.hidden}(t))return se("div",{className:"".concat(je.e("item")," ").concat(je.is("disabled",d(t))," ").concat(a||""),title:t.title,onClick:function(n){return function(t,n){var r;d(n)||null===(r=n.onClick)||void 0===r||r.call(n,t,e.context,e.params,i)}(n,t)},children:[se("div",{className:"".concat(je.em("item","icon")),children:"function"==typeof t.icon?t.icon(A):t.icon}),se("div",{className:"".concat(je.em("item","label")),children:"function"==typeof t.label?t.label(A):t.label})]},n)}))})},Re=new Q("chat-messages"),Fe=function(t){var e=kt(null),n=t.controller.messages;return function(t){var e=kt(t);e.current=t,wt((function(){return te((function(){return e.current()}))}),[])}((function(){e.current&&n.value.length>0&&(e.current.scrollTop=e.current.scrollHeight)})),se("div",{ref:e,className:Re.b(),children:n.value.map((function(e){var n,r=(null===(n=e.content)||void 0===n?void 0:n.length)||0;return se(He,{size:r,message:e,controller:t.controller,children:se(Be,{data:e,type:"content",items:t.toolbarItems,controller:t.controller})},e.messageid)}))})};function Ue(t,e){for(var n in t)if("__source"!==n&&!(n in e))return!0;for(var r in e)if("__source"!==r&&t[r]!==e[r])return!0;return!1}function Ve(t){this.props=t}(Ve.prototype=new L).isPureReactComponent=!0,Ve.prototype.shouldComponentUpdate=function(t,e){return Ue(this.props,t)||Ue(this.state,e)};var We=f.__b;f.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),We&&We(t)};var Ye=f.__e;f.__e=function(t,e,n,r){if(t.then)for(var i,o=e;o=o.__;)if((i=o.__c)&&i.__c)return null==e.__e&&(e.__e=n.__e,e.__k=n.__k),i.__c(t,e);Ye(t,e,n,r)};var $e=f.unmount;function qe(t,e,n){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach((function(t){"function"==typeof t.__c&&t.__c()})),t.__c.__H=null),null!=(t=function(t,e){for(var n in e)t[n]=e[n];return t}({},t)).__c&&(t.__c.__P===n&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map((function(t){return qe(t,e,n)}))),t}function Xe(t,e,n){return t&&n&&(t.__v=null,t.__k=t.__k&&t.__k.map((function(t){return Xe(t,e,n)})),t.__c&&t.__c.__P===e&&(t.__e&&n.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=n)),t}function Ge(){this.__u=0,this.t=null,this.__b=null}function Ze(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function Je(){this.u=null,this.o=null}f.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&!0===t.__h&&(t.type=null),$e&&$e(t)},(Ge.prototype=new L).__c=function(t,e){var n=e.__c,r=this;null==r.t&&(r.t=[]),r.t.push(n);var i=Ze(r.__v),o=!1,a=function(){o||(o=!0,n.__R=null,i?i(c):c())};n.__R=a;var c=function(){if(! --r.__u){if(r.state.__a){var t=r.state.__a;r.__v.__k[0]=Xe(t,t.__c.__P,t.__c.__O)}var e;for(r.setState({__a:r.__b=null});e=r.t.pop();)e.forceUpdate()}},s=!0===e.__h;r.__u++||s||r.setState({__a:r.__b=r.__v.__k[0]}),t.then(a,a)},Ge.prototype.componentWillUnmount=function(){this.t=[]},Ge.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=qe(this.__b,n,r.__O=r.__P)}this.__b=null}var i=e.__a&&A(D,null,t.fallback);return i&&(i.__h=null),[A(D,null,e.__a?null:t.children),i]};var Ke=function(t,e,n){if(++n[1]===n[0]&&t.o.delete(e),t.props.revealOrder&&("t"!==t.props.revealOrder[0]||!t.o.size))for(n=t.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;t.u=n=n[2]}};function Qe(t){return this.getChildContext=function(){return t.context},t.children}function tn(t){var e=this,n=t.i;e.componentWillUnmount=function(){J(null,e.l),e.l=null,e.i=null},e.i&&e.i!==n&&e.componentWillUnmount(),e.l||(e.i=n,e.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(t){this.childNodes.push(t),e.i.appendChild(t)},insertBefore:function(t,n){this.childNodes.push(t),e.i.appendChild(t)},removeChild:function(t){this.childNodes.splice(this.childNodes.indexOf(t)>>>1,1),e.i.removeChild(t)}}),J(A(Qe,{context:e.context},t.__v),e.l)}function en(t,e){var n=A(tn,{__v:t,i:e});return n.containerInfo=e,n}(Je.prototype=new L).__a=function(t){var e=this,n=Ze(e.__v),r=e.o.get(t);return r[0]++,function(i){var o=function(){e.props.revealOrder?(r.push(i),Ke(e,t,r)):i()};n?n(o):o()}},Je.prototype.render=function(t){this.u=null,this.o=new Map;var e=B(t.children);t.revealOrder&&"b"===t.revealOrder[0]&&e.reverse();for(var n=e.length;n--;)this.o.set(e[n],this.u=[1,0,this.u]);return t.children},Je.prototype.componentDidUpdate=Je.prototype.componentDidMount=function(){var t=this;this.o.forEach((function(e,n){Ke(t,n,e)}))};var nn="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,rn=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,on=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,an=/[A-Z0-9]/g,cn="undefined"!=typeof document,sn=function(t){return("undefined"!=typeof Symbol&&"symbol"==d(Symbol())?/fil|che|rad/:/fil|che|ra/).test(t)};L.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(t){Object.defineProperty(L.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})}));var un=f.event;function ln(){}function fn(){return this.cancelBubble}function hn(){return this.defaultPrevented}f.event=function(t){return un&&(t=un(t)),t.persist=ln,t.isPropagationStopped=fn,t.isDefaultPrevented=hn,t.nativeEvent=t};var dn={enumerable:!1,configurable:!0,get:function(){return this.class}},pn=f.vnode;f.vnode=function(t){"string"==typeof t.type&&function(t){var e=t.props,n=t.type,r={};for(var i in e){var o=e[i];if(!("value"===i&&"defaultValue"in e&&null==o||cn&&"children"===i&&"noscript"===n||"class"===i||"className"===i)){var a=i.toLowerCase();"defaultValue"===i&&"value"in e&&null==e.value?i="value":"download"===i&&!0===o?o="":"ondoubleclick"===a?i="ondblclick":"onchange"!==a||"input"!==n&&"textarea"!==n||sn(e.type)?"onfocus"===a?i="onfocusin":"onblur"===a?i="onfocusout":on.test(i)?i=a:-1===n.indexOf("-")&&rn.test(i)?i=i.replace(an,"-$&").toLowerCase():null===o&&(o=void 0):a=i="oninput","oninput"===a&&r[i=a]&&(i="oninputCapture"),r[i]=o}}"select"==n&&r.multiple&&Array.isArray(r.value)&&(r.value=B(e.children).forEach((function(t){t.props.selected=-1!=r.value.indexOf(t.props.value)}))),"select"==n&&null!=r.defaultValue&&(r.value=B(e.children).forEach((function(t){t.props.selected=r.multiple?-1!=r.defaultValue.indexOf(t.props.value):r.defaultValue==t.props.value}))),e.class&&!e.className?(r.class=e.class,Object.defineProperty(r,"className",dn)):(e.className&&!e.class||e.class&&e.className)&&(r.class=r.className=e.className),t.props=r}(t),t.$$typeof=nn,pn&&pn(t)};var vn=f.__r;f.__r=function(t){vn&&vn(t),t.__c};var _n=f.diffed;f.diffed=function(t){_n&&_n(t);var e=t.props,n=t.__e;null!=n&&"textarea"===t.type&&"value"in e&&e.value!==n.value&&(n.value=null==e.value?"":e.value)};var mn=new Map;function yn(t){var e=mn.get(t);e&&e.destroy()}function gn(t){var e=mn.get(t);e&&e.update()}var bn=null;"undefined"==typeof window?((bn=function(t){return t}).destroy=function(t){return t},bn.update=function(t){return t}):((bn=function(t,e){return t&&Array.prototype.forEach.call(t.length?t:[t],(function(t){return function(t){if(t&&t.nodeName&&"TEXTAREA"===t.nodeName&&!mn.has(t)){var e,n=null,r=window.getComputedStyle(t),i=(e=t.value,function(){a({testForHeightReduction:""===e||!t.value.startsWith(e),restoreTextAlign:null}),e=t.value}),o=function(e){t.removeEventListener("autosize:destroy",o),t.removeEventListener("autosize:update",c),t.removeEventListener("input",i),window.removeEventListener("resize",c),Object.keys(e).forEach((function(n){return t.style[n]=e[n]})),mn.delete(t)}.bind(t,{height:t.style.height,resize:t.style.resize,textAlign:t.style.textAlign,overflowY:t.style.overflowY,overflowX:t.style.overflowX,wordWrap:t.style.wordWrap});t.addEventListener("autosize:destroy",o),t.addEventListener("autosize:update",c),t.addEventListener("input",i),window.addEventListener("resize",c),t.style.overflowX="hidden",t.style.wordWrap="break-word",mn.set(t,{destroy:o,update:c}),c()}function a(e){var i,o,c=e.restoreTextAlign,s=void 0===c?null:c,u=e.testForHeightReduction,l=void 0===u||u,f=r.overflowY;if(0!==t.scrollHeight&&("vertical"===r.resize?t.style.resize="none":"both"===r.resize&&(t.style.resize="horizontal"),l&&(i=function(t){for(var e=[];t&&t.parentNode&&t.parentNode instanceof Element;)t.parentNode.scrollTop&&e.push([t.parentNode,t.parentNode.scrollTop]),t=t.parentNode;return function(){return e.forEach((function(t){var e=t[0],n=t[1];e.style.scrollBehavior="auto",e.scrollTop=n,e.style.scrollBehavior=null}))}}(t),t.style.height=""),o="content-box"===r.boxSizing?t.scrollHeight-(parseFloat(r.paddingTop)+parseFloat(r.paddingBottom)):t.scrollHeight+parseFloat(r.borderTopWidth)+parseFloat(r.borderBottomWidth),"none"!==r.maxHeight&&o>parseFloat(r.maxHeight)?("hidden"===r.overflowY&&(t.style.overflow="scroll"),o=parseFloat(r.maxHeight)):"hidden"!==r.overflowY&&(t.style.overflow="hidden"),t.style.height=o+"px",s&&(t.style.textAlign=s),i&&i(),n!==o&&(t.dispatchEvent(new Event("autosize:resized",{bubbles:!0})),n=o),f!==r.overflow&&!s)){var h=r.textAlign;"hidden"===r.overflow&&(t.style.textAlign="start"===h?"end":"start"),a({restoreTextAlign:h,testForHeightReduction:!0})}}function c(){a({testForHeightReduction:!0,restoreTextAlign:null})}}(t)})),t}).destroy=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],yn),t},bn.update=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],gn),t});var wn=bn,kn=new Q("chat-input"),xn=window.SpeechRecognition||window.webkitSpeechRecognition,En=function(t){var e=kt(null),n=t.controller.input,r=oe(!1),i=oe(!1),o=kt();xn&&!o.current&&(o.current=new xn,o.current.onstart=function(){i.value=!0},o.current.onend=function(){i.value=!1},o.current.onresult=function(t){var e,r=null===(e=t.results)||void 0===e||null===(e=e[0])||void 0===e||null===(e=e[0])||void 0===e?void 0:e.transcript;r&&(n.value="".concat(n.value).concat(r))});var a=Et((function(t){n.value=t.target.value}),[n]),c=ae((function(){return n.value.length<=0||!0===r.value}));wt((function(){return e.current&&wn(e.current),function(){e.current&&wn.destroy(e.current)}}),[e]);var s=Et(h(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.value=!0,e.prev=1,e.next=4,t.controller.question(n.value);case 4:n.value="",e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.error(e.t0);case 10:return e.prev=10,r.value=!1,e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[1,7,10,13]])}))),[n,r]);return se("div",{className:kn.b(),children:[se("textarea",{className:kn.e("textarea"),type:"text",rows:6,autoCorrect:"off",autoCapitalize:"off",autoComplete:"off",value:n,onInput:a,onKeyDown:function(t){"Enter"===t.code&&(t.stopPropagation(),!1===t.shiftKey&&s())},ref:e,disabled:r}),se("div",{className:kn.b("action-wrapper"),children:[se("div",{title:i.value?"语音输入中...":"语音输入",className:"".concat(kn.be("action-wrapper","action-item")),onClick:function(){o.current&&!i.value&&o.current.start()},children:i.value?se(we,{}):se(be,{})}),se("div",{title:r.value?"思考中...":"发送消息",className:"".concat(kn.be("action-wrapper","action-item")," ").concat(kn.is("disabled",c.value)," ").concat(kn.is("loading",r.value)),onClick:s,disabled:c,children:se(fe,{})})]})]})},Cn=function(t){return t.STYLE_CACHE="ai-chat-style-cache",t.MINIMIZE_STYLY_CHCHE="ai-chat-minimize-style-cache",t.DATA_BASE_NAME="ibiz-chat",t.DATA_TABLE_NAME="history-message",t.DATA_TABLE_KEY_NAME="id",t}(Cn||{}),Nn=function(t){var e=t.children,n=t.actions,r=t.position,i=void 0===r?"bottom":r,c=t.isOpen,s=t.onToggleOpen,u=t.onAction,l=new Q("pop"),f=a(bt(c||!1),2),h=f[0],d=f[1],p=kt(null),v=kt(null);wt((function(){void 0!==c&&d(c)}),[c]),wt((function(){return v.current||(v.current=document.createElement("div"),v.current.className=l.b("content-container"),document.body.appendChild(v.current)),function(){v.current&&document.body.removeChild(v.current)}}),[]),wt((function(){var t=function(t){!p.current||p.current.contains(t.target)||t.target.closest(l.b("content"))||(d(!1),null==s||s(!1))};return h&&document.addEventListener("mousedown",t),function(){document.removeEventListener("mousedown",t)}}),[h,s]);return se("span",{className:"".concat(l.b("trigger-container")),children:[se("span",{className:"".concat(l.b("trigger-element")),ref:p,onClick:function(t){t.stopPropagation();var e=!h;d(e),null==s||s(e)},children:e}),h&&v.current&&en(se("div",{className:"".concat(l.b("content")," pop-").concat(i),style:function(){if(!p.current)return{};var t=p.current.getBoundingClientRect(),e={bottom:{top:t.bottom+window.scrollY,left:t.left+window.scrollX},top:{bottom:window.innerHeight-t.top+window.scrollY,left:t.left+window.scrollX},left:{top:t.top+window.scrollY,right:window.innerWidth-t.left+window.scrollX},right:{top:t.top+window.scrollY,left:t.right+window.scrollX}};return o(o({},{position:"absolute",zIndex:1e3}),e[i])}(),children:null==n?void 0:n.map((function(t){return se("div",{className:l.b("content-item"),onMouseDown:function(e){e.stopPropagation(),null==u||u(t.id,e)},children:[t.icon&&se("img",{className:l.b("content-item__icon"),src:t.icon,alt:t.caption}),se("div",{className:l.b("content-item__caption"),children:t.caption})]},t.id)}))}),v.current)]})},Sn=new Q("chat-topic-item"),Tn=function(t){var e=t.current,n=t.active,r=t.topic,i=t.onClick,o=t.onAction,c=a(bt(!1),2),s=c[0],u=c[1];return se("div",{className:"".concat(Sn.b()," ").concat(Sn.is("active",n)),onClick:i.bind(void 0),children:[se("div",{className:Sn.b("caption"),title:r.caption,children:r.caption}),se("div",{className:Sn.b("icon"),children:[se("span",{className:Sn.be("icon","item"),title:"跳转主视图",onClick:function(t){t.stopPropagation(),o("LINK",t)}.bind(void 0),children:se(xe,{className:Sn.b("link-icon")})}),e?null:se(Nn,{actions:[{id:"DELETE",caption:"删除话题"}],position:"bottom",isOpen:s,onToggleOpen:u,onAction:function(t,e){"DELETE"===t&&o("DELETE",e),u(!1)}.bind(void 0),children:se("span",{className:Sn.be("icon","item"),title:"更多",children:se(ke,{className:Sn.b("more-icon")})})})]})]})},An=new Q("chat-topics"),On=function(t){var e=t.controller.topics;return se("div",{className:An.b(),children:e.value.map((function(e){var n,r;return se(Tn,{topic:e,current:e.id===(null===(n=t.controller.currentTopicOptions)||void 0===n?void 0:n.id),active:e.id===(null===(r=t.controller.activedTopic.value)||void 0===r?void 0:r.id),onClick:function(){return function(e){t.controller.handleTopicChange(e)}(e)},onAction:function(n,r){return function(e,n,r){t.controller.handleTopicAction(e,n,r)}(n,e,r)}},e.id)}))})},Dn=function(r){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&t(e,n)}(o,r);var i=e(o);function o(t){var e;return p(this,o),m(n(e=i.call(this,t)),"ns",new Q("chat-container")),m(n(e),"containerRef",{current:null}),m(n(e),"dragHandle",{current:null}),m(n(e),"minimizeRef",{current:null}),m(n(e),"data",{x:window.innerWidth-600,y:0,width:600,height:window.innerHeight,minWidth:300,minHeight:300}),m(n(e),"minimizeData",{x:window.innerWidth-86,y:window.innerHeight-86}),m(n(e),"disabled",!1),m(n(e),"isDragging",!1),e.state={isFullScreen:!1,isMinimize:!1},e}return _(o,[{key:"calcWindowStyle",value:function(){return{left:"".concat(this.data.x,"px"),top:"".concat(this.data.y,"px"),height:"".concat(this.data.height,"px"),width:"".concat(this.data.width,"px"),"z-index":"1000"}}},{key:"calcMinimizeStyle",value:function(){return{left:"".concat(this.minimizeData.x,"px"),top:"".concat(this.minimizeData.y,"px"),"z-index":"99999"}}},{key:"setStyle",value:function(){Object.assign(this.containerRef.current.style,this.calcWindowStyle()),Object.assign(this.minimizeRef.current.style,this.calcMinimizeStyle())}},{key:"componentDidMount",value:function(){var t=this,e=localStorage.getItem(Cn.MINIMIZE_STYLY_CHCHE);e&&(this.minimizeData=JSON.parse(e));var n=localStorage.getItem(Cn.STYLE_CACHE);n&&(this.data=JSON.parse(n),this.data.x>window.innerWidth&&(this.data.x=window.innerWidth-100),this.data.y>window.innerHeight&&(this.data.y=window.innerHeight-100)),this.setStyle();var r=this.data;this.minimizeRef.current.onmousedown=function(e){document.body.style.userSelect="none";var n=e.clientX-t.minimizeRef.current.offsetLeft,r=e.clientY-t.minimizeRef.current.offsetTop,i=Date.now(),o=function(e){t.minimizeData.x=e.clientX-n,t.minimizeData.y=e.clientY-r,t.setStyle()};document.addEventListener("mousemove",o),document.addEventListener("mouseup",(function e(){var n=Date.now();t.isDragging=n-i>300,document.body.style.userSelect="",document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",e)}))},this.dragHandle.current.onmousedown=function(e){if(!t.disabled&&!t.state.isFullScreen){document.body.style.userSelect="none";var n=e.clientX-t.containerRef.current.offsetLeft,i=e.clientY-t.containerRef.current.offsetTop,o=function(e){r.x=e.clientX-n,r.y=e.clientY-i,t.setStyle()};document.addEventListener("mousemove",o),document.addEventListener("mouseup",(function t(){document.body.style.userSelect="",document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",t)}))}},s(this.containerRef.current).resizable({edges:{top:!0,right:!0,bottom:!0,left:!0},margin:6,modifiers:[s.modifiers.restrictEdges({outer:document.body}),s.modifiers.restrictSize({min:{width:r.minWidth,height:r.minHeight}})],inertia:!0,listeners:{move:function(e){t.state.isFullScreen||(r.x=e.rect.left,r.y=e.rect.top,r.width=e.rect.width,r.height=e.rect.height,t.setStyle())},start:function(){t.disabled=!0,document.body.style.userSelect="none"},end:function(){t.disabled=!1,document.body.style.userSelect=""}}})}},{key:"componentWillUnmount",value:function(){localStorage.setItem(Cn.STYLE_CACHE,JSON.stringify(this.data)),localStorage.setItem(Cn.MINIMIZE_STYLY_CHCHE,JSON.stringify(this.minimizeData))}},{key:"close",value:function(){this.props.close()}},{key:"fullScreen",value:function(){var t=this.containerRef.current;t&&(t.requestFullscreen(),this.setState({isFullScreen:!0}),this.props.fullscreen(!0))}},{key:"closeFullScreen",value:function(){var t;this.state.isFullScreen&&(null===(t=document)||void 0===t||t.exitFullscreen(),this.setState({isFullScreen:!1}),this.props.fullscreen(!1),this.setStyle())}},{key:"minimize",value:function(){this.closeFullScreen(),this.setState({isMinimize:!0}),this.props.minimize(!0)}},{key:"exitMinimize",value:function(){this.isDragging||(this.setState({isMinimize:!1}),this.props.minimize(!1))}},{key:"stopPropagation",value:function(t){t.stopPropagation()}},{key:"render",value:function(){return se("div",{className:"".concat(this.ns.b()),children:[se("div",{className:"".concat(this.ns.e("dialog")," ").concat(this.ns.is("full-screen",this.state.isFullScreen)," ").concat(this.ns.is("hidden",this.state.isMinimize)),ref:this.containerRef,children:[se("div",{ref:this.dragHandle,className:this.ns.b("header"),children:[se("div",{className:this.ns.b("header-caption"),children:this.props.caption||"AI助手"}),se("div",{className:this.ns.b("header-action-wrapper"),children:[se("div",{title:"最小化",className:"".concat(this.ns.be("header-action-wrapper","action-item")," ").concat(this.ns.be("header-action-wrapper","minimize")),onMouseDown:this.stopPropagation.bind(this),onClick:this.minimize.bind(this),children:se(me,{})}),this.state.isFullScreen?se("div",{title:"退出全屏",className:"".concat(this.ns.be("header-action-wrapper","action-item")," ").concat(this.ns.be("header-action-wrapper","close-full-screen")),onMouseDown:this.stopPropagation.bind(this),onClick:this.closeFullScreen.bind(this),children:se(_e,{})}):se("div",{title:"全屏",className:"".concat(this.ns.be("header-action-wrapper","action-item")," ").concat(this.ns.be("header-action-wrapper","full-screen")),onMouseDown:this.stopPropagation.bind(this),onClick:this.fullScreen.bind(this),children:se(ve,{})}),se("div",{title:"关闭",className:"".concat(this.ns.be("header-action-wrapper","action-item")," ").concat(this.ns.be("header-action-wrapper","action-close")),onMouseDown:this.stopPropagation.bind(this),onClick:this.close.bind(this),children:se(ue,{})})]})]}),"TOPIC"===this.props.mode?se("div",{className:"".concat(this.ns.b("main")),children:[se("div",{className:"".concat(this.ns.be("main","left")),children:se(On,{controller:this.props.aiTopic})}),se("div",{className:"".concat(this.ns.be("main","right")),children:[se("div",{className:this.ns.b("content"),children:se(Fe,{controller:this.props.aiChat,toolbarItems:this.props.contentToolbarItems})}),se(Be,{data:this.props.aiTopic.activedTopic.value,type:"footer",className:this.ns.e("toolbar"),controller:this.props.aiChat,items:this.props.footerToolbarItems}),se("div",{className:this.ns.b("footer"),children:se(En,{controller:this.props.aiChat})})]})]}):se("div",{className:"".concat(this.ns.be("main","default")),children:[se("div",{className:this.ns.b("content"),children:se(Fe,{controller:this.props.aiChat,toolbarItems:this.props.contentToolbarItems})}),se(Be,{data:this.props.aiTopic.activedTopic.value,type:"footer",className:this.ns.e("toolbar"),controller:this.props.aiChat,items:this.props.footerToolbarItems}),se("div",{className:this.ns.b("footer"),children:se(En,{controller:this.props.aiChat})})]})]}),se("div",{title:"AI助手",ref:this.minimizeRef,className:"".concat(this.ns.e("minimize")," ").concat(this.ns.is("hidden",!this.state.isMinimize)),onClick:this.exitMinimize.bind(this),children:se(ye,{})})]})}}]),o}(L);r("ChatContainer",Dn);var Ln=function(){function t(e){p(this,t),this.msg=e}return _(t,[{key:"messageid",get:function(){return this.msg.messageid}},{key:"state",get:function(){return this.msg.state}},{key:"role",get:function(){return this.msg.role}},{key:"type",get:function(){return this.msg.type}},{key:"content",get:function(){return this.msg.content}},{key:"completed",get:function(){return this.msg.completed}},{key:"_origin",get:function(){return this.msg}},{key:"update",value:function(t){t.content||(t.content=""),this.msg.content+=t.content}},{key:"updateCompleted",value:function(t){this.msg.completed=t}}]),t}(),In=function(){function t(e){p(this,t),this.data=e}return _(t,[{key:"appid",get:function(){return this.data.appid}},{key:"id",get:function(){return this.data.id}},{key:"type",get:function(){return this.data.type}},{key:"caption",get:function(){return this.data.caption}},{key:"url",get:function(){return this.data.url}},{key:"aiChat",get:function(){return this.data.aiChat}}]),t}(),zn=function(){function t(e){p(this,t),m(this,"messages",Wt([])),m(this,"input",Wt("")),m(this,"context",void 0),m(this,"params",void 0),m(this,"appDataEntityId",void 0),m(this,"topicId",void 0),this.opts=e,this.context=e.context,this.params=e.params,this.appDataEntityId=e.appDataEntityId,this.topicId=e.topicId,this.fecthHistory()}var e,n,r,i,o;return _(t,[{key:"fecthHistory",value:(o=h(l().mark((function t(){var e,n=this;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.topicId){t.next=7;break}return t.next=3,at.getData(Cn.DATA_BASE_NAME,Cn.DATA_TABLE_NAME,this.topicId);case 3:if(!((e=t.sent)&&e.data&&e.data.length>0)){t.next=7;break}return e.data.forEach((function(t){var e={messageid:t.messageid,state:t.state,type:t.type,role:t.role,content:t.content,completed:!0};n.addMessage(e)})),t.abrupt("return",!0);case 7:return t.abrupt("return",this.opts.history(this.context,this.params,{appDataEntityId:this.appDataEntityId}));case 8:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"asyncToIndexDB",value:(i=h(l().mark((function t(){var e;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.topicId){t.next=2;break}return t.abrupt("return");case 2:return e={id:this.topicId,data:this.messages.value.map((function(t){return t._origin})),timestamp:(new Date).getTime()},t.next=5,at.updateData(Cn.DATA_BASE_NAME,Cn.DATA_TABLE_NAME,e);case 5:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"setInput",value:function(t){this.input.value=t||""}},{key:"addMessage",value:function(t){var e=this.messages.value.find((function(e){return e.messageid===t.messageid}));e?(e.update(t),this.messages.value=c(this.messages.value)):this.messages.value=[].concat(c(this.messages.value),[new Ln(t)]),this.asyncToIndexDB()}},{key:"completeMessage",value:function(t,e){var n=this.messages.value.find((function(e){return e.messageid===t}));n&&(n.updateCompleted(e),this.messages.value=c(this.messages.value),this.asyncToIndexDB())}},{key:"replaceMessage",value:function(t){var e=this.messages.value.findIndex((function(e){return e.messageid===t.messageid}));-1!==e?(this.messages.value[e]=new Ln(t),this.messages.value=c(this.messages.value)):this.messages.value=[].concat(c(this.messages.value),[new Ln(t)]),this.asyncToIndexDB()}},{key:"question",value:(r=h(l().mark((function t(e){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.addMessage({state:30,messageid:it(),role:"USER",type:"DEFAULT",content:e}),t.next=3,this.opts.question(this.context,this.params,{appDataEntityId:this.appDataEntityId},this.messages.value.filter((function(t){return"ERROR"!==t.type})).map((function(t){return t._origin})));case 3:this.opts.action&&this.opts.action("question",e);case 4:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)})},{key:"backfill",value:function(t){this.opts.action&&this.opts.action("backfill",t)}},{key:"deleteMessage",value:function(t){var e=this.messages.value.findIndex((function(e){return e.messageid===t.messageid}));-1!==e&&(this.messages.value.splice(e,1),this.messages.value=c(this.messages.value)),this.asyncToIndexDB(),this.opts.action&&this.opts.action("deletemsg",t)}},{key:"refreshMessage",value:(n=h(l().mark((function t(e){var n,r,i,o=arguments;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=o.length>1&&void 0!==o[1]&&o[1],r=this.messages.value.findIndex((function(t){return t.messageid===e.messageid})),!n){t.next=9;break}return this.messages.value.splice(r+1,this.messages.value.length-r-1),this.messages.value=c(this.messages.value),t.next=7,this.opts.question(this.context,this.params,{appDataEntityId:this.appDataEntityId},this.messages.value.filter((function(t){return"ERROR"!==t.type})).map((function(t){return t._origin})));case 7:t.next=19;break;case 9:if(r!==this.messages.value.length-1){t.next=16;break}return this.messages.value.pop(),this.messages.value=c(this.messages.value),t.next=14,this.opts.question(this.context,this.params,{appDataEntityId:this.appDataEntityId},this.messages.value.filter((function(t){return"ERROR"!==t.type})).map((function(t){return t._origin})));case 14:t.next=19;break;case 16:i=this.messages.value[r-1].content,this.messages.value.splice(r-1,2),this.question(i);case 19:this.asyncToIndexDB(),this.opts.action&&this.opts.action("refreshmsg",e);case 21:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)})},{key:"copyMessage",value:function(t){var e=t.content;ot.copy(e),this.opts.action&&this.opts.action("copymsg",t)}},{key:"newDialogue",value:(e=h(l().mark((function t(){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.messages.value.length=0,!this.topicId){t.next=4;break}return t.next=4,at.deleteData(Cn.DATA_BASE_NAME,Cn.DATA_TABLE_NAME,this.topicId);case 4:this.opts.history(this.context,this.params,{appDataEntityId:this.appDataEntityId});case 5:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})}]),t}(),Mn=function(){function t(e){p(this,t),m(this,"topics",Wt([])),m(this,"activedTopic",Wt(null)),m(this,"currentTopicOptions",void 0),this.chat=e}var e,n,r,i;return _(t,[{key:"fetchHistory",value:(i=h(l().mark((function t(e){var n,r,i=this;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.configService(e.appid,"aitopics",e.type),t.next=3,n.load();case 3:(r=t.sent)&&r.length>0&&r.forEach((function(t){i.topics.value=[].concat(c(i.topics.value),[new In(t)])}));case 5:case"end":return t.stop()}}),t)}))),function(t){return i.apply(this,arguments)})},{key:"updateCurrentTopic",value:(r=h(l().mark((function t(e){var n,r,i,o;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.currentTopicOptions=e,n=this.topics.value.findIndex((function(t){return t.id===e.id})),r=new In(e),-1!==n?this.topics.value.splice(n,1,new In(e)):this.topics.value=[].concat(c(this.topics.value),[new In(e)]),i=this.topics.value.map((function(t){return{appid:t.appid,id:t.id,type:t.type,caption:t.caption,url:t.url,aiChat:t.aiChat}})),o=e.configService(e.appid,"aitopics",e.type),t.next=8,null==o?void 0:o.save(i);case 8:this.activedTopic.value=r;case 9:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)})},{key:"removeTopic",value:(n=h(l().mark((function t(e,n,r,i,o){var a,s,u,f,h;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s=!0,!e.beforeDelete){t.next=5;break}return t.next=4,e.beforeDelete(n,r,i,o);case 4:s=t.sent;case 5:if(s){t.next=7;break}return t.abrupt("return");case 7:return-1!==(u=this.topics.value.findIndex((function(t){return t.id===i.id})))&&(this.topics.value.splice(u,1),this.topics.value=c(this.topics.value)),f=this.topics.value.map((function(t){return{appid:t.appid,id:t.id,type:t.type,caption:t.caption,url:t.url,aiChat:t.aiChat}})),h=e.configService(e.appid,"aitopics",e.type),t.next=13,null==h?void 0:h.save(f);case 13:return t.next=15,at.deleteData(Cn.DATA_BASE_NAME,Cn.DATA_TABLE_NAME,i.id);case 15:this.topics.value.length>0&&i.id===(null===(a=this.activedTopic.value)||void 0===a?void 0:a.id)&&this.handleTopicChange(this.topics.value[0]);case 16:case"end":return t.stop()}}),t,this)}))),function(t,e,r,i,o){return n.apply(this,arguments)})},{key:"handleTopicChange",value:function(t){var e;(null===(e=this.activedTopic.value)||void 0===e?void 0:e.id)!==t.id&&(this.activedTopic.value=t,this.chat.switchAiChatController(t))}},{key:"handleTopicAction",value:(e=h(l().mark((function t(e,n,r){var i,o,a,c,s,u;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this.topics.value.find((function(t){return t.id===n.id})),!(this.currentTopicOptions&&i&&i.aiChat)){t.next=7;break}if(c=i.aiChat,s=c.context,u=c.params,"DELETE"!==e){t.next=6;break}return t.next=6,this.removeTopic(this.currentTopicOptions,s,u,i,r);case 6:null===(o=(a=this.currentTopicOptions).action)||void 0===o||o.call(a,e,s,u,n,r);case 7:case"end":return t.stop()}}),t,this)}))),function(t,n,r){return e.apply(this,arguments)})}]),t}(),Pn=function(){function t(){p(this,t),m(this,"container",void 0),m(this,"mode","DEFAULT"),m(this,"isMountedAiTopic",!1),m(this,"backupChatOptions",void 0),m(this,"aiTopic",void 0),m(this,"aiChat",void 0),this.aiTopic=new Mn(this)}var e,n;return _(t,[{key:"initIndexDB",value:(n=h(l().mark((function t(){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,at.checkTableExists(Cn.DATA_BASE_NAME,Cn.DATA_TABLE_NAME);case 2:if(t.sent){t.next=6;break}return t.next=6,at.createTable(Cn.DATA_BASE_NAME,Cn.DATA_TABLE_NAME,Cn.DATA_TABLE_KEY_NAME,!1);case 6:case"end":return t.stop()}}),t)}))),function(){return n.apply(this,arguments)})},{key:"create",value:(e=h(l().mark((function t(e){var n,r,i,o=this;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.initIndexDB();case 2:if(this.backupChatOptions=e,this.close(),this.container=document.createElement("div"),this.container.classList.add("ibiz-ai-chat"),document.body.appendChild(this.container),r=e.chatOptions,!e.mode||"TOPIC"!==e.mode){t.next=17;break}if(this.isMountedAiTopic){t.next=13;break}return t.next=12,this.aiTopic.fetchHistory(e.topicOptions);case 12:this.isMountedAiTopic=!0;case 13:return i=e.topicOptions,Object.assign(i,{aiChat:{caption:r.caption,context:r.context,params:r.params,appDataEntityId:r.appDataEntityId,contentToolbarItems:r.contentToolbarItems,footerToolbarItems:r.footerToolbarItems}}),t.next=17,this.aiTopic.updateCurrentTopic(i);case 17:return Object.assign(r,{topicId:null===(n=i)||void 0===n?void 0:n.id}),this.aiChat=new zn(r),J(A(Dn,{aiTopic:this.aiTopic,aiChat:this.aiChat,mode:e.mode?e.mode:"DEFAULT",caption:e.mode&&"TOPIC"===e.mode?"AI助手":r.caption,contentToolbarItems:r.contentToolbarItems,footerToolbarItems:r.footerToolbarItems,close:function(){o.close(),r.closed&&r.closed(r.context,r.params)},fullscreen:function(t){r.fullscreen&&r.fullscreen(t,r.context,r.params)},minimize:function(t){r.minimize&&r.minimize(t,r.context,r.params)}}),this.container),t.abrupt("return",this.aiChat);case 21:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:"switchAiChatController",value:function(t){var e,n,r=this,i=o({},this.backupChatOptions.chatOptions);(t.aiChat&&Object.assign(i,{caption:t.aiChat.caption,context:t.aiChat.context,params:t.aiChat.params,contentToolbarItems:t.aiChat.contentToolbarItems,footerToolbarItems:t.aiChat.footerToolbarItems,appDataEntityId:t.aiChat.appDataEntityId,topicId:t.id}),this.aiChat=new zn(i),this.container)&&(J(null,this.container),J(A(Dn,{aiTopic:this.aiTopic,aiChat:this.aiChat,mode:null!==(e=this.backupChatOptions)&&void 0!==e&&e.mode?this.backupChatOptions.mode:"DEFAULT",caption:null!==(n=this.backupChatOptions)&&void 0!==n&&n.mode&&"TOPIC"===this.backupChatOptions.mode?"AI助手":i.caption,contentToolbarItems:i.contentToolbarItems,footerToolbarItems:i.footerToolbarItems,close:function(){r.close(),i.closed&&i.closed(i.context,i.params)},fullscreen:function(t){i.fullscreen&&i.fullscreen(t,i.context,i.params)},minimize:function(t){i.minimize&&i.minimize(t,i.context,i.params)}}),this.container))}},{key:"hidden",value:function(){this.container&&(this.container.style.display="none")}},{key:"show",value:function(){this.container&&(this.container.style.display="flex")}},{key:"close",value:function(){this.container&&(J(null,this.container),this.container.remove(),this.container=void 0)}}]),t}();r("chat",new Pn)}}}))}();
